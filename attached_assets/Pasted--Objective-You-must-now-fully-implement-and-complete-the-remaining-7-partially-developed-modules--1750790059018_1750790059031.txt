ðŸ§  Objective:
You must now fully implement and complete the remaining 7 partially developed modules in the SignalOS Desktop App. These modules were verified as â³ partial in the last audit. For each one, follow the instructions below to finish logic, add missing integration, and ensure full test coverage.

âœ… 1. entry_range.py â€” Entry Point Selector Finalization
Add missing selection modes:

"best" â†’ lowest (BUY) or highest (SELL)

"second" â†’ second best from sorted list

"average" â†’ midpoint

Validate: fallback to single-entry if one value only

Update /tests/test_entry_range.py to reflect new logic

Integrate into parser.py and strategy_runtime.py

âœ… 2. magic_number_hider.py â€” Implement Logic
Add function: generate_magic_number(symbol: str, user_id: str) â†’ int

Should produce:

Consistent 5â€“6 digit hash for same symbol/user combo

Random suffix option for stealth mode

Integrate with strategy_runtime.py and mt5_bridge.py

Log used magic numbers to /logs/magic.log

Add tests in /tests/test_magic_number_hider.py

âœ… 3. randomized_lot_inserter.py â€” Finish Hook Integration
Already implemented? Now connect to strategy_runtime.py:

Replace direct lotsize with get_randomized_lot(base_lot)

Hook logic:

Â±5â€“10% random noise around base lot

Respect min/max lot rules (0.01 â€“ 5.0)

Add fallback to default if config missing

Confirm existing tests pass

âœ… 4. end_of_week_sl_remover.py â€” Add Trigger Scheduler
Add scheduled check:

if today in [Friday, Sunday] and time > 22:00 â†’ remove SL from open trades

Create function: remove_weekend_sl_trades(mt5_interface)

Hook into auto_sync.py or create end_of_week_job.py

Add tests in /tests/test_end_of_week_sl_remover.py

âœ… 5. edit_trade_on_signal_change.py â€” Add Signal Parser Linkage
Add input parser: detect modified SL/TP from updated Telegram messages

Compare with original and trigger:

mt5_bridge.edit_trade(ticket_id, new_sl, new_tp)

Must store original state for diffing

Integrate into signal replay engine and copilot bot confirmation prompt

Add tests in /tests/test_edit_trade_on_signal_change.py

âœ… 6. tp_adjustor.py â€” Add Test Coverage
If logic is implemented:

Add tests: adjust TP to +X pips, change to R:R, override from strategy

Mock inputs from ParsedSignal, user strategy config

Edge cases: no TP provided, override disabled, 3+ TPs

Tests: /tests/test_tp_adjustor.py

âœ… 7. time_scheduler.py â€” Implement Time Logic Rules
Add should_execute_trade(signal_time, pair, provider) â†’ bool

Configurable rules:

Time windows (e.g., only 09:00â€“15:00)

Block by weekdays

Accept config:

json
Copy
Edit
{
  "GOLD": {"start": "08:30", "end": "15:00"},
  "default": {"start": "00:00", "end": "23:59"}
}
Use datetime.now() and pytz for timezones

Tests in /tests/test_time_scheduler.py

ðŸ“‚ After Completing Each:

âœ… Mark module complete in /attached_assets/feature_status.md

ðŸ“˜ Log summary in /attached_assets/dev_changelog.md

ðŸ§¾ Record in /attached_assets/execution_history.md

ðŸ§ª Make Sure:

Each test suite runs âœ… with >90% coverage

Every module is imported at runtime in the relevant execution layer

No duplicate or conflicting logic remains from placeholder versions

